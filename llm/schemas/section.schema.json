{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Staj Raporu Bölümleme Şeması",
  "description": "Faithful extraction için bölüm çıktısı şeması - kelime değiştirmeden metin alıntıları",
  "type": "object",
  "required": ["segmentation", "source_metadata"],
  "properties": {
    "segmentation": {
      "type": "object",
      "required": ["sections"],
      "properties": {
        "sections": {
          "type": "array",
          "description": "Belgeden çıkarılan bölümler, orijinal sırayla",
          "items": {
            "type": "object",
            "required": ["section_id", "section_name", "content", "start_idx", "end_idx", "level"],
            "properties": {
              "section_id": {
                "type": "string",
                "description": "Benzersiz bölüm tanımlayıcısı (örn: intro_1, method_2)"
              },
              "section_name": {
                "type": "string",
                "description": "Bölüm başlığı (orijinal metinden, değiştirilmeden)",
                "examples": ["Giriş", "Introduction", "Yöntem", "Methodology", "Sonuçlar", "Results", "Tartışma", "Conclusion"]
              },
              "content": {
                "type": "string",
                "description": "Bölüm içeriği - kelime kelime orijinal metinden, değiştirilmeden alınmış"
              },
              "start_idx": {
                "type": "integer",
                "description": "Kaynak metindeki başlangıç karakter indeksi (0-based)",
                "minimum": 0
              },
              "end_idx": {
                "type": "integer",
                "description": "Kaynak metindeki bitiş karakter indeksi (exclusive)",
                "minimum": 0
              },
              "level": {
                "type": "integer",
                "description": "Hiyerarşik seviye (1: ana bölüm, 2: alt bölüm, vb.)",
                "minimum": 1,
                "maximum": 5
              },
              "parent_id": {
                "type": ["string", "null"],
                "description": "Üst bölümün section_id'si (eğer alt bölümse)"
              },
              "page_number": {
                "type": ["integer", "null"],
                "description": "PDF'deki sayfa numarası (eğer biliniyorsa)"
              }
            }
          }
        }
      }
    },
    "source_metadata": {
      "type": "object",
      "required": ["total_length", "extraction_timestamp"],
      "properties": {
        "total_length": {
          "type": "integer",
          "description": "Kaynak metnin toplam karakter uzunluğu"
        },
        "extraction_timestamp": {
          "type": "string",
          "format": "date-time",
          "description": "Çıkarım zamanı (ISO 8601)"
        },
        "source_hash": {
          "type": "string",
          "description": "Kaynak metnin SHA-256 hash'i (doğrulama için)"
        }
      }
    }
  }
}

